## دستور `git status`

دستور `git status` یکی از پرکاربردترین دستورات گیت (Git) است که به توسعه‌دهندگان امکان می‌دهد وضعیت فعلی مخزن خود را بررسی کنند. این دستور اطلاعات مفیدی درباره فایل‌های موجود در مخزن، فایل‌هایی که تغییر کرده‌اند، و فایل‌هایی که در مرحله آماده‌سازی (staging area) قرار دارند ارائه می‌دهد. استفاده منظم از این دستور باعث می‌شود که توسعه‌دهندگان بتوانند تغییرات پروژه را بهتر مدیریت کنند و از وضعیت فعلی فایل‌ها و شاخه‌ها آگاه باشند.

### دستور `git status` چه کاری انجام می‌دهد؟

دستور `git status` به شما وضعیت فعلی مخزن را نشان می‌دهد و اطلاعات زیر را ارائه می‌دهد:

1. **شاخه فعلی (Current branch):** نشان می‌دهد که شما در حال حاضر در کدام شاخه (branch) قرار دارید.
2. **فایل‌های مرحله آماده‌سازی (staging area):** فایل‌هایی که به مرحله آماده‌سازی اضافه شده‌اند و آماده برای کامیت هستند.
3. **فایل‌های تغییر یافته:** فایل‌هایی که تغییر کرده‌اند اما هنوز به مرحله آماده‌سازی اضافه نشده‌اند.
4. **فایل‌های پیگیری نشده (untracked):** فایل‌هایی که جدید هستند و هنوز توسط گیت پیگیری نمی‌شوند.
5. **وضعیت شاخه (branch status):** اختلافات بین شاخه فعلی و شاخه مرجع (مانند `origin/master`)، از جمله کامیت‌های جلوتر یا عقب‌تر.

#### سینتکس:

```bash
git status
```

این دستور به سادگی وضعیت فعلی مخزن را نمایش می‌دهد.

#### نمونه خروجی:

```plaintext
On branch main
Your branch is up to date with 'origin/main'.

Changes to be committed:
  (use "git restore --staged <file>..." to unstage)
        modified:   file1.txt
        new file:   file2.txt

Changes not staged for commit:
  (use "git add <file>..." to update what will be committed)
  (use "git restore <file>..." to discard changes in working directory)
        modified:   file3.txt

Untracked files:
  (use "git add <file>..." to include in what will be committed)
        file4.txt
```

#### توضیح خروجی:

1. **شاخه فعلی:** شما در شاخه `main` هستید.
2. **Changes to be committed:** فایل‌هایی که در مرحله آماده‌سازی قرار گرفته‌اند و آماده برای کامیت هستند (مثل `file1.txt` و `file2.txt`).
3. **Changes not staged for commit:** فایل‌هایی که تغییر کرده‌اند اما هنوز به مرحله آماده‌سازی اضافه نشده‌اند (مثل `file3.txt`).
4. **Untracked files:** فایل‌هایی که گیت آن‌ها را پیگیری نمی‌کند و هنوز به مرحله آماده‌سازی اضافه نشده‌اند (مثل `file4.txt`).

### چه اتفاقی در پس‌زمینه دستور `git status` می‌افتد؟

1. **خواندن شاخه فعلی (Current Branch):**

   - گیت ابتدا وضعیت شاخه فعلی را از فایل `.git/HEAD` می‌خواند. این فایل نشان می‌دهد که شما در حال حاضر در کدام شاخه قرار دارید.

2. **بررسی فایل‌های تغییر یافته (Modified Files):**
   - گیت فایل‌های موجود در دایرکتوری کاری (working directory) را با نسخه‌ای که در آخرین کامیت ثبت شده مقایسه می‌کند. هر فایلی که با نسخه قبلی تفاوت داشته باشد به عنوان فایل تغییر یافته شناسایی می‌شود.
3. **بررسی فایل‌های مرحله آماده‌سازی (Staged Files):**

   - گیت فایل‌هایی که با دستور `git add` به مرحله آماده‌سازی اضافه شده‌اند را از فایل `.git/index` می‌خواند. این فایل شامل اطلاعاتی درباره فایل‌هایی است که آماده کامیت شدن هستند. گیت این فایل‌ها را با فایل‌های موجود در دایرکتوری کاری مقایسه می‌کند تا فایل‌های آماده کامیت را تشخیص دهد.

4. **بررسی فایل‌های پیگیری نشده (Untracked Files):**

   - گیت دایرکتوری کاری را اسکن می‌کند و فایل‌هایی را که هنوز در مخزن گیت اضافه نشده‌اند، اما در دایرکتوری کاری موجود هستند شناسایی می‌کند. این فایل‌ها به عنوان فایل‌های پیگیری نشده گزارش می‌شوند.

5. **وضعیت شاخه (Branch Status):**
   - گیت بررسی می‌کند که آیا شاخه فعلی شما نسبت به شاخه مرجع (مثلاً `origin/main`) کامیت‌های جدیدی دارد یا عقب‌تر است. این کار با مقایسه کامیت‌های موجود در هر دو شاخه انجام می‌شود.

### گزینه‌های پرکاربرد با دستور `git status`

#### 1. **نمایش خلاصه وضعیت با `--short`**

گزینه `--short` یک نمایش خلاصه‌تر و فشرده‌تر از وضعیت مخزن ارائه می‌دهد. این حالت برای زمانی که می‌خواهید به سرعت تغییرات فایل‌ها را بررسی کنید مناسب است.

```bash
git status --short
```

نمونه خروجی:

```plaintext
 M file1.txt
A  file2.txt
?? file4.txt
```

- `M`: فایل تغییر یافته ولی هنوز به مرحله آماده‌سازی اضافه نشده.
- `A`: فایل جدیدی که به مرحله آماده‌سازی اضافه شده.
- `??`: فایل پیگیری نشده.

#### 2. **نمایش فایل‌های نادیده گرفته‌شده (ignored files) با `--ignored`**

برای مشاهده فایل‌هایی که در فایل `.gitignore` مشخص شده‌اند و گیت آن‌ها را نادیده می‌گیرد، از گزینه `--ignored` استفاده کنید.

```bash
git status --ignored
```

این دستور لیستی از فایل‌های نادیده گرفته‌شده را نمایش می‌دهد.

#### 3. **نمایش وضعیت با مسیر خاص**

اگر بخواهید فقط وضعیت یک فایل یا دایرکتوری خاص را بررسی کنید، می‌توانید نام فایل یا دایرکتوری مورد نظر را به دستور اضافه کنید.

```bash
git status <path>
```

مثال:

```bash
git status src/
```

این دستور فقط وضعیت فایل‌ها و دایرکتوری‌های موجود در مسیر `src/` را نمایش می‌دهد.

#### 4. **نمایش وضعیت دقیق با `--verbose`**

برای نمایش اطلاعات دقیق‌تر درباره وضعیت مخزن، می‌توانید از گزینه `--verbose` استفاده کنید.

```bash
git status --verbose
```

### نکات و ترفندها

#### 1. **استفاده مرتب از `git status`**

بهتر است به طور مرتب از دستور `git status` استفاده کنید تا مطمئن شوید که در کدام مرحله از توسعه پروژه قرار دارید. این کار به شما کمک می‌کند که قبل از کامیت کردن، فایل‌ها را دقیقاً بررسی کنید.

#### 2. **بررسی دقیق فایل‌های پیگیری نشده (Untracked Files)**

فایل‌های پیگیری نشده می‌توانند اطلاعات موقتی یا خصوصی باشند (مثل فایل‌های `.env` یا لاگ‌ها). بهتر است قبل از اضافه کردن این فایل‌ها به مخزن، مطمئن شوید که نیازی به پیگیری آن‌ها ندارید. اگر نیازی به پیگیری این فایل‌ها نیست، آن‌ها را به فایل `.gitignore` اضافه کنید.

#### 3. **شناسایی فایل‌های نادیده گرفته‌شده (Ignored Files)**

گاهی اوقات ممکن است فایل‌های مهمی به طور تصادفی در فایل `.gitignore` قرار بگیرند. با استفاده از `git status --ignored` می‌توانید فایل‌های نادیده گرفته‌شده را بررسی کنید و مطمئن شوید که هیچ فایل مهمی از پیگیری گیت خارج نشده است.

#### 4. **بررسی سریع تغییرات با `git status --short`**

اگر به دنبال یک نمایش سریع و خلاصه از وضعیت مخزن هستید، گزینه `--short` بهترین گزینه است. این نمایش خلاصه به شما امکان می‌دهد که به سرعت تغییرات را مشاهده کنید و نیازی به خواندن توضیحات طولانی نداشته باشید.

#### 5. **مدیریت شاخه‌ها و شاخه مرجع**

زمانی که در حال کار روی یک پروژه هستید، بررسی وضعیت شاخه‌ها از طریق دستور `git status` می‌تواند به شما کمک کند که بفهمید آیا شاخه فعلی شما نسبت به شاخه مرجع جلوتر یا عقب‌تر است. این موضوع در پروژه‌هایی که از کنترل نسخه متمرکز استفاده می‌کنند بسیار اهمیت دارد.

## نتیجه‌گیری

دستور `git status` یکی از اصلی‌ترین ابزارهای گیت برای بررسی وضعیت مخزن است. این دستور به شما امکان می‌دهد که به راحتی تغییرات فایل‌ها، وضعیت شاخه‌ها و فایل‌های پیگیری نشده را بررسی کنید. استفاده منظم از این دستور باعث می‌شود که توسعه‌دهندگان بتوانند تغییرات پروژه را بهتر مدیریت کنند و از کامیت‌های نامنظم یا اشتباه جلوگیری کنند. با گزینه‌ها و ترفندهای گفته‌شده، می‌توانید استفاده بهینه‌تری از این دستور داشته باشید.
