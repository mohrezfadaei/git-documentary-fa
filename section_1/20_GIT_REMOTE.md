## راهنمای جامع دستور `git remote`

دستور `git remote` در گیت برای مدیریت **مخازن راه دور (remote repositories)** استفاده می‌شود. یک مخزن راه دور، نسخه‌ای از مخزن شما است که در سرورهای دیگری مانند GitHub، GitLab یا سرورهای خصوصی ذخیره شده است. این دستور به شما اجازه می‌دهد که مخازن راه دور را مشاهده کنید، آن‌ها را اضافه کنید، حذف کنید یا نام آن‌ها را تغییر دهید.

### دستور `git remote` چه کاری انجام می‌دهد؟

دستور `git remote` به شما کمک می‌کند تا با مخازن راه دور ارتباط برقرار کنید و تغییرات را با آن‌ها همگام‌سازی کنید. برای مثال، وقتی شما تغییراتی را در مخزن محلی ایجاد کرده‌اید و می‌خواهید آن‌ها را به مخزن راه دور ارسال کنید یا تغییرات جدید را از مخزن راه دور دریافت کنید، این دستور به عنوان راه ارتباطی بین مخزن محلی و راه دور عمل می‌کند.

#### سینتکس کلی:

```bash
git remote [command] [options]
```

- **`command`**: عملیات‌هایی مانند `add`، `remove`، `rename`، و ... که روی مخازن راه دور انجام می‌شود.
- **`options`**: نام یا آدرس مخزن راه دور.

### کاربردهای اصلی `git remote`

#### 1. مشاهده مخازن راه دور

برای مشاهده لیستی از مخازن راه دوری که به پروژه شما مرتبط هستند، از دستور زیر استفاده می‌شود:

```bash
git remote
```

این دستور نام‌های مخازن راه دور (مانند `origin`) را نمایش می‌دهد. اگر می‌خواهید آدرس دقیق (URL) آن‌ها را نیز مشاهده کنید، می‌توانید از گزینه `-v` استفاده کنید:

```bash
git remote -v
```

#### خروجی:

```plaintext
origin  https://github.com/user/repository.git (fetch)
origin  https://github.com/user/repository.git (push)
```

در اینجا `origin` نام پیش‌فرض مخزن راه دور شماست و URL آن مشخص می‌کند که مخزن روی GitHub میزبانی می‌شود.

#### 2. اضافه کردن یک مخزن راه دور

برای اضافه کردن یک مخزن راه دور جدید به پروژه خود، می‌توانید از دستور `git remote add` استفاده کنید. این دستور به شما اجازه می‌دهد که یک نام مستعار (مثل `origin`) به یک مخزن راه دور اختصاص دهید.

```bash
git remote add <name> <url>
```

- **`<name>`**: نام مستعاری که برای مخزن راه دور انتخاب می‌کنید (به طور معمول `origin`).
- **`<url>`**: آدرس URL مخزن راه دور.

**مثال:**

```bash
git remote add origin https://github.com/user/repository.git
```

#### 3. حذف یک مخزن راه دور

اگر نیاز دارید که یک مخزن راه دور را از پروژه خود حذف کنید، می‌توانید از دستور `git remote remove` استفاده کنید:

```bash
git remote remove <name>
```

**مثال:**

```bash
git remote remove origin
```

این دستور مخزن راه دور به نام `origin` را حذف می‌کند و دیگر نمی‌توانید به آن push یا pull کنید.

#### 4. تغییر نام یک مخزن راه دور

برای تغییر نام یک مخزن راه دور از دستور `git remote rename` استفاده می‌شود. این دستور نام مستعار مخزن راه دور را تغییر می‌دهد، اما آدرس URL آن دست‌نخورده باقی می‌ماند.

```bash
git remote rename <old-name> <new-name>
```

**مثال:**

```bash
git remote rename origin upstream
```

این دستور نام مخزن راه دور `origin` را به `upstream` تغییر می‌دهد.

#### 5. تغییر URL یک مخزن راه دور

گاهی اوقات لازم است آدرس URL مخزن راه دور را تغییر دهید (مثلاً اگر مخزن به سرور جدیدی منتقل شود). برای این کار می‌توانید از دستور زیر استفاده کنید:

```bash
git remote set-url <name> <new-url>
```

**مثال:**

```bash
git remote set-url origin https://github.com/user/new-repository.git
```

#### 6. نمایش اطلاعات کامل مخازن راه دور

اگر می‌خواهید اطلاعات بیشتری درباره مخازن راه دور مشاهده کنید، مانند URL‌ها و شاخه‌هایی که برای push و fetch استفاده می‌شوند، از دستور زیر استفاده کنید:

```bash
git remote show <name>
```

**مثال:**

```bash
git remote show origin
```

#### خروجی:

```plaintext
* remote origin
  Fetch URL: https://github.com/user/repository.git
  Push  URL: https://github.com/user/repository.git
  HEAD branch: main
  Remote branches:
    main      tracked
  Local branches configured for 'git pull':
    main merges with remote main
  Local refs configured for 'git push':
    main pushes to main (up to date)
```

این خروجی اطلاعات دقیقی درباره وضعیت فعلی مخزن راه دور `origin` و شاخه‌های آن نمایش می‌دهد.

### چه اتفاقی در پس‌زمینه دستور `git remote` می‌افتد؟

هنگامی که شما از دستور `git remote` استفاده می‌کنید، گیت تنظیمات مربوط به مخازن راه دور را در دایرکتوری مخفی `.git/config` ذخیره می‌کند. این فایل شامل اطلاعاتی است که نحوه ارتباط گیت با مخازن راه دور را تنظیم می‌کند، از جمله URL مخزن راه دور، نام مستعار آن و نحوه تعامل (fetch/push).

#### نمونه‌ای از فایل `.git/config`:

```ini
[remote "origin"]
    url = https://github.com/user/repository.git
    fetch = +refs/heads/*:refs/remotes/origin/*
```

- **`url`**: آدرس URL مخزن راه دور را مشخص می‌کند.
- **`fetch`**: نحوه دریافت اطلاعات از مخزن راه دور را تنظیم می‌کند.

هنگامی که شما با استفاده از دستورات `git push` یا `git pull` تغییراتی را ارسال یا دریافت می‌کنید، گیت از این تنظیمات استفاده می‌کند تا بداند به کدام مخزن باید متصل شود و چه تغییراتی را منتقل کند.

### تفاوت `git remote` با `git push` و `git pull`

- **`git remote`**: برای مدیریت مخازن راه دور استفاده می‌شود. این دستور به شما امکان می‌دهد که URL مخازن راه دور را تنظیم، اضافه یا حذف کنید.
- **`git push` و `git pull`**: این دستورات برای ارسال (push) یا دریافت (pull) تغییرات به/از مخزن راه دور استفاده می‌شوند. اما پیش‌نیاز استفاده از این دستورات این است که مخزن راه دور از قبل تنظیم شده باشد، که این کار توسط `git remote` انجام می‌شود.

#### مثال عملی:

1. **افزودن مخزن راه دور:**

   ```bash
   git remote add origin https://github.com/user/repository.git
   ```

2. **مشاهده وضعیت مخزن راه دور:**

   ```bash
   git remote show origin
   ```

3. **ارسال تغییرات به مخزن راه دور:**

   ```bash
   git push origin main
   ```

4. **دریافت تغییرات از مخزن راه دور:**
   ```bash
   git pull origin main
   ```

### مدیریت چندین مخزن راه دور

در پروژه‌های بزرگ، ممکن است نیاز داشته باشید که چندین مخزن راه دور را مدیریت کنید. برای این کار می‌توانید مخازن جدیدی را با نام‌های مختلف اضافه کنید و با استفاده از این نام‌ها تغییرات را بین مخازن مختلف مدیریت کنید.

**مثال:**

فرض کنید شما یک مخزن به نام `origin` و یک مخزن دیگر به نام `upstream` دارید:

```bash
git remote add origin https://github.com/user/repository.git
git remote add upstream https://github.com/another-user/repository.git
```

حالا می‌توانید تغییرات را بین این دو مخزن مدیریت کنید:

- برای ارسال تغییرات به مخزن `origin`:

  ```bash
  git push origin main
  ```

- برای دریافت تغییرات از مخزن `upstream`:
  ```bash
  git pull upstream main
  ```

### نتیجه‌گیری

دستور `git remote` ابزاری قدرتمند برای مدیریت مخازن راه دور است. این دستور به شما امکان می‌دهد که مخازن راه دور خود را اضافه کنید، نام آن‌ها را تغییر دهید، حذف کنید یا آدرس URL آن‌ها را به‌روزرسانی کنید. در پشت صحنه، گیت اطلاعات مربوط به مخازن راه دور را در فایل پیکربندی `.git/config` ذخیره می‌کند و از این تنظیمات برای تعامل با مخازن راه دور استفاده می‌کند. با استفاده صحیح از این دستور، می‌توانید به راحتی تغییرات را بین مخازن محلی و راه دور هماهنگ کنید.
