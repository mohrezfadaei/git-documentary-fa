# فصل دوم: دستور‌های پایه در گیت

## دستور `git config`

دستور `git config` برای تنظیم و مدیریت تنظیمات گیت (Git) استفاده می‌شود. این دستور به کاربران اجازه می‌دهد تا اطلاعات مربوط به تنظیمات سطح کاربر، سطح مخزن (repository)، و سطح سیستم را مدیریت کنند. برخی از تنظیمات معمول که توسط این دستور مدیریت می‌شوند، شامل نام کاربری، ایمیل، و ویرایشگر پیش‌فرض است.

### استفاده‌های معمول از دستور `git config`:

1. **تنظیم نام کاربر:**

   ```bash
   git config --global user.name "Your Name"
   ```

2. **تنظیم ایمیل کاربر:**

   ```bash
   git config --global user.email "your.email@example.com"
   ```

3. **تغییر ویرایشگر پیش‌فرض:**

   ```bash
   git config --global core.editor "vim"
   ```

### انواع سطوح تنظیمات

- **سطح محلی (Local):** تنظیماتی که فقط به مخزن جاری اعمال می‌شود. این تنظیمات در فایل `.git/config` مخزن ذخیره می‌شوند. این دستور با آپشن `--local` در زمانی که در دایرکتوری که گیت را در آن init کرده‌اید تنظیم می‌شود.
- **سطح جهانی (Global):** تنظیماتی که به تمام مخازن کاربر در سیستم اعمال می‌شود. این تنظیمات در فایل `~/.gitconfig` ذخیره می‌شوند. آپشن آن `--global` می‌باشد.
- **سطح سیستم (System):** تنظیماتی که به تمام کاربران و مخازن سیستم اعمال می‌شود. این تنظیمات در فایل `/etc/gitconfig` ذخیره می‌شوند. آپشن این سطح سیستم `--system` می‌باشد.

### دستور `git config` چه کار می‌کند؟

- به کاربران اجازه می‌دهد تنظیمات مرتبط با هویت خود (مانند نام و ایمیل) را برای گیت ثبت کنند.
- تنظیمات پیش‌فرض مربوط به رفتار گیت (مانند ویرایشگر پیش‌فرض، نحوه نمایش خروجی‌ها، و مدیریت شاخه‌ها) را سفارشی یا کاستومایز می‌کند.
- گیت از این تنظیمات برای تعیین رفتارهای خاص استفاده می‌کند، مانند شناسایی نویسنده کامیت‌ها.

### چه اتفاقی در پس‌زمینه می‌افتد؟

1. **ایجاد و/یا بروزرسانی فایل‌های پیکربندی:** وقتی از دستور `git config` استفاده می‌کنید، گیت اطلاعات مربوط به تنظیمات شما را در یکی از سه فایل پیکربندی ذخیره می‌کند:

   - **`~/.gitconfig`** یا **`~/.config/git/config`**: برای تنظیمات سطح جهانی.
   - **`/etc/gitconfig`**: برای تنظیمات سطح سیستم.
   - **`./.git/config`**: برای تنظیمات سطح محلی.

2. **ساختار کلید-مقدار (Key-Value):** فایل‌های تنظیمات گیت به صورت یک ساختار کلید-مقدار ذخیره می‌شوند. به عنوان مثال:

   ```ini
   [user]
       name = Your Name
       email = your.email@example.com
   [core]
       editor = vim
   ```

3. **بارگذاری تنظیمات در هنگام استفاده از گیت:** هنگامی که از گیت استفاده می‌کنید (مانند اجرای دستور `git commit` یا `git push`)، گیت این فایل‌های تنظیمات را می‌خواند و رفتار خود را براساس آن‌ها تنظیم می‌کند. اولویت بارگذاری تنظیمات به ترتیب زیر است:

   - ابتدا تنظیمات سطح محلی.
   - سپس تنظیمات سطح جهانی.
   - در نهایت تنظیمات سطح سیستم.

4. **ذخیره هویت برای هر کامیت:** زمانی که نام و ایمیل خود را با `git config` تنظیم می‌کنید، گیت از این اطلاعات برای مشخص کردن نویسنده کامیت‌ها استفاده می‌کند. هر بار که یک کامیت انجام می‌دهید، این اطلاعات به همراه پیام کامیت در تاریخچه ذخیره می‌شود.

### تنظیمات حرفه‌ای در `git config`

#### 1. **تنظیم Alias برای دستورات گیت**

Aliasها (نام‌های مستعار) به شما کمک می‌کنند تا دستورات گیت را به شکل کوتاه‌تر و سریع‌تر استفاده کنید. برای مثال، برای تعریف یک Alias برای `git status`:

```bash
git config --global alias.st status
```

پس از تنظیم، می‌توانید به جای `git status` از `git st` استفاده کنید.

مثال‌های دیگر:

```bash
git config --global alias.co checkout
git config --global alias.br branch
git config --global alias.cm commit
```

#### 2. **تنظیمات Merge و Diff**

گیت به صورت پیش‌فرض از ابزارهای ساده برای ادغام (Merge) و مقایسه (Diff) استفاده می‌کند، اما می‌توانید آن‌ها را به ابزارهای حرفه‌ای تغییر دهید.

مثال: استفاده از `meld` به عنوان ابزار Diff:

```bash
git config --global diff.tool meld
git config --global difftool.prompt false
```

و برای ابزار Merge:

```bash
git config --global merge.tool meld
git config --global mergetool.prompt false
```

#### 3. **استفاده از `core.autocrlf` برای سازگاری پایان خط‌ها**

اگر تیم شما روی سیستم‌های مختلف (مانند ویندوز و لینوکس) کار می‌کند، بهتر است تنظیم `core.autocrlf` را برای مدیریت سازگاری پایان خط‌ها به کار ببرید.

- برای ویندوز:

  ```bash
  git config --global core.autocrlf true
  ```

- برای مک و لینوکس:
  ```bash
  git config --global core.autocrlf input
  ```

#### 4. **فعال کردن رنگ‌بندی در گیت**

فعال کردن رنگ‌بندی می‌تواند خوانایی خروجی دستورات گیت را افزایش دهد. با تنظیم `color.ui` می‌توانید خروجی‌های رنگی را فعال کنید:

```bash
git config --global color.ui auto
```

#### 5. **تنظیم `pull.rebase` برای استفاده از Rebase به جای Merge در `git pull`**

برای جلوگیری از ایجاد کامیت‌های ادغام غیرضروری هنگام کشیدن تغییرات از مخزن راه دور، می‌توانید از Rebase به جای Merge استفاده کنید:

```bash
git config --global pull.rebase true
```

### مشاهده و مدیریت تنظیمات

#### 1. **مشاهده تنظیمات فعلی**

برای مشاهده تنظیمات سطح خاصی از `git config` می‌توانید از این دستورات استفاده کنید:

- **تنظیمات محلی**:

  ```bash
  git config --local --list
  ```

- **تنظیمات کاربر**:

  ```bash
  git config --global --list
  ```

- **تنظیمات سیستم**:
  ```bash
  git config --system --list
  ```

#### 2. **حذف یک تنظیم**

برای حذف یک تنظیم، از گزینه `--unset` استفاده کنید. این کار می‌تواند برای تنظیمات محلی، کاربر یا سیستم استفاده شود.

```bash
git config --global --unset alias.st
```

### موارد استفاده از `git config`

- تنظیم هویت کاربر برای هر کامیت.
- تنظیمات رفتار گیت در مخازن محلی یا در تمام سیستم.
- مدیریت پارامترهایی مانند ادغام (merging) و شاخه‌بندی (branching) در مخازن پروژه.

در ادامه به برسی ویژگی‌های `git config` در جزئیات می‌پردازیم.
